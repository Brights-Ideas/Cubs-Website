@inherits Umbraco.Web.Mvc.UmbracoTemplatePage
@model CleverCubs.Models.ContactModel 
@{
    Layout = null;
}

@if (TempData["success"] == null)
{
    using (Html.BeginUmbracoForm("Submit", "Contact"))
    {
		    <div class="row 50%">
			    <div class="6u 12u(mobile)">
                    @Html.TextBoxFor(m => m.Name)
				    <input name="name" placeholder="Name" type="text">
			    </div>
			    <div class="6u 12u(mobile)">
                    @Html.TextBoxFor(m => m.Email)
				    <input name="email" placeholder="Email" type="text">
			    </div>
		    </div>
		    <div class="row 50%">
			    <div class="12u">
                    @Html.TextAreaFor(m => m.Message)
				    <textarea name="comment" placeholder="Comment"></textarea>
			    </div>
		    </div>
		    <div class="row 50%">
			    <div class="12u">
				    <button type="submit" class="form-button-submit button icon fa-envelope">Send Message</button>
			    </div>
		    </div>
    }
}
else
{
    <p>We'll be in contact soon</p> 
}
 <script>
	$(function () {
		$('form#formContact').validate({
			submitHandler: function (form) {
				form.submit();
			},
			errorClass: 'error-msg',
			errorPlacement: function (error, element) {
				error.insertAfter(element);
			},
			highlight: function (element, errorClass) {
				$(element).parent('.inp-wrap').addClass("error");
			},
			unhighlight: function (element, errorClass, validClass) {
				$(element).parent('.inp-wrap').removeClass("error");
			},
			rules: {
				name: { required: true },
				email: { required: true, email: true },
				comment: { required: true, maxlength: 500 }
			},
			messages: {
					name: { required: 'Please enter your name' },
					email: { required: 'Please enter an email address', email: 'Please enter a valid email address' },
					comment: { required: 'Please enter a message', maxlength: 'The message you have entered is too long.' }
				}
			});
	});
</script>